<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>German Flashcards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            padding-top: 40px;
            color: white;
        }

        h1 {
            margin-bottom: 8px;
            font-size: 1.6rem;
            font-weight: 300;
        }

        .deck-selector {
            margin-bottom: 12px;
        }

        .deck-selector select {
            padding: 8px 16px;
            font-size: 0.85rem;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.3);
            background: rgba(255,255,255,0.1);
            color: white;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            padding-right: 30px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='white' viewBox='0 0 16 16'%3E%3Cpath d='M8 11L3 6h10l-5 5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
        }

        .deck-selector select option {
            background: #1a1a2e;
            color: white;
        }

        .mode-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .mode-btn {
            padding: 6px 14px;
            font-size: 0.8rem;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.3);
            background: rgba(255,255,255,0.1);
            color: white;
            cursor: pointer;
        }

        .mode-btn.active {
            background: rgba(255,255,255,0.3);
            border-color: rgba(255,255,255,0.6);
        }

        .progress {
            margin-bottom: 20px;
            font-size: 0.85rem;
            opacity: 0.7;
        }

        .card-container {
            perspective: 1000px;
            width: 100%;
            max-width: 380px;
            height: 280px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s ease;
        }

        .card.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px;
            text-align: center;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .card-front {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-front.reverse-mode {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }

        .card-back {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            transform: rotateY(180deg);
        }

        .card-back.reverse-mode {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .card-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.8;
            margin-bottom: 10px;
        }

        .card-word {
            font-size: 1.6rem;
            font-weight: 600;
            line-height: 1.3;
        }

        .card-example {
            font-size: 0.85rem;
            opacity: 0.85;
            margin-top: 12px;
            font-style: italic;
            line-height: 1.4;
        }

        .card-hint {
            font-size: 0.8rem;
            opacity: 0.6;
            margin-top: 15px;
        }

        .audio-btn {
            margin-top: 10px;
            padding: 8px 16px;
            font-size: 0.85rem;
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.4);
            background: rgba(255,255,255,0.15);
            color: white;
            cursor: pointer;
        }

        .difficulty-indicator {
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 10px;
            background: rgba(0,0,0,0.2);
        }

        .controls {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 25px;
            font-size: 0.95rem;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }

        button:hover {
            transform: translateY(-2px);
        }

        .btn-next {
            background: white;
            color: #1a1a2e;
        }

        .btn-shuffle {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .btn-knew-it {
            background: #38ef7d;
            color: #1a1a2e;
        }

        .btn-didnt-know {
            background: #ff6b6b;
            color: white;
        }

        .stats {
            margin-top: 20px;
            text-align: center;
        }

        .score {
            font-size: 0.9rem;
            opacity: 0.7;
        }

        .percentage {
            font-size: 1.1rem;
            margin-top: 6px;
            font-weight: 500;
        }

        .round-info {
            font-size: 0.8rem;
            margin-top: 6px;
            opacity: 0.7;
            color: #ffd700;
        }

        .btn-small {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            font-size: 0.8rem;
            padding: 8px 16px;
        }

        .btn-restart {
            background: rgba(255, 107, 107, 0.3);
            border: 1px solid rgba(255, 107, 107, 0.5);
        }

        .btn-sync {
            background: rgba(100, 150, 255, 0.3);
            border: 1px solid rgba(100, 150, 255, 0.5);
        }

        .instructions {
            margin-top: 15px;
            font-size: 0.75rem;
            opacity: 0.4;
            text-align: center;
        }

        @media (max-width: 500px) {
            .card-word {
                font-size: 1.3rem;
            }
            .card-example {
                font-size: 0.8rem;
            }
            .card-container {
                height: 260px;
            }
        }
    </style>
</head>
<body>
    <h1>German Flashcards</h1>

    <div class="deck-selector">
        <select id="deck-select" onchange="switchDeck(this.value)">
            <option value="conversational">Conversational (280 cards)</option>
            <option value="literary">Literary/Kafka (145 cards)</option>
            <option value="all">All Cards (425 cards)</option>
        </select>
    </div>

    <div class="mode-toggle">
        <button class="mode-btn active" id="mode-normal" onclick="setMode('normal')">German ‚Üí English</button>
        <button class="mode-btn" id="mode-reverse" onclick="setMode('reverse')">English ‚Üí German</button>
    </div>

    <p class="progress">Card <span id="current">1</span> of <span id="total">0</span></p>

    <div class="card-container" onclick="flipCard()">
        <div class="card" id="card">
            <div class="card-face card-front" id="card-front">
                <div class="difficulty-indicator" id="difficulty">New</div>
                <div class="card-label" id="front-label">German</div>
                <div class="card-word" id="front-word"></div>
                <div class="card-example" id="front-example"></div>
                <button class="audio-btn" onclick="event.stopPropagation(); speakWord()">üîä Hear Sentence</button>
                <div class="card-hint">tap to flip</div>
            </div>
            <div class="card-face card-back" id="card-back">
                <div class="card-label" id="back-label">English</div>
                <div class="card-word" id="back-word"></div>
                <div class="card-example" id="back-example"></div>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="btn-didnt-know" onclick="markAndNext(false)">Didn't Know</button>
        <button class="btn-knew-it" onclick="markAndNext(true)">Knew It</button>
    </div>

    <div class="controls" style="margin-top: 12px;">
        <button class="btn-shuffle" onclick="shuffleCards()">Shuffle</button>
        <button class="btn-next" onclick="nextCard()">Skip</button>
    </div>

    <div class="stats">
        <p class="score">Score: <span id="correct">0</span> / <span id="attempted">0</span></p>
        <p class="percentage" id="percentage"></p>
        <p class="round-info" id="round-info"></p>
    </div>

    <div class="controls" style="margin-top: 15px;">
        <button class="btn-small btn-restart" onclick="fullRestart()">Start Over</button>
        <button class="btn-small btn-sync" onclick="getSyncCode()">Get Code</button>
        <button class="btn-small btn-sync" onclick="loadSyncCode()">Load Code</button>
    </div>

    <p class="instructions">Spacebar to flip ‚Ä¢ Arrow keys to navigate ‚Ä¢ K/D for knew/didn't know</p>

    <script>
        const allFlashcards = [
            { german: "Die Stimme", english: "the voice", exampleDe: "Ihre Stimme klingt m√ºde.", exampleEn: "Her voice sounds tired." },
            { german: "Erkennen", english: "to recognise", exampleDe: "Ich erkenne dich kaum wieder.", exampleEn: "I barely recognise you." },
            { german: "Der Schriftsteller", english: "the writer", exampleDe: "Er ist ein ber√ºhmter Schriftsteller.", exampleEn: "He is a famous writer." },
            { german: "mindestens", english: "at least / minimum", exampleDe: "Das dauert mindestens eine Stunde.", exampleEn: "That takes at least an hour." },
            { german: "Der Brief", english: "the letter", exampleDe: "Ich habe deinen Brief bekommen.", exampleEn: "I received your letter." },
            { german: "Die Ehre", english: "the honour", exampleDe: "Es ist mir eine Ehre.", exampleEn: "It is an honour for me." },
            { german: "Die Linie", english: "the line", exampleDe: "Folge der roten Linie.", exampleEn: "Follow the red line." },
            { german: "Die Verabredung", english: "social gathering", exampleDe: "Ich habe eine Verabredung um acht.", exampleEn: "I have an appointment at eight." },
            { german: "Sich verabreden", english: "arranging to meet", exampleDe: "Wir verabreden uns f√ºr morgen.", exampleEn: "We're arranging to meet tomorrow." },
            { german: "Die Aussage", english: "statement", exampleDe: "Seine Aussage war sehr klar.", exampleEn: "His statement was very clear." },
            { german: "wahrscheinlich", english: "probably", exampleDe: "Es regnet wahrscheinlich morgen.", exampleEn: "It will probably rain tomorrow." },
            { german: "Dennoch", english: "nonetheless", exampleDe: "Es war schwer, dennoch haben wir es geschafft.", exampleEn: "It was hard, nonetheless we managed." },
            { german: "Das Dorf", english: "the village", exampleDe: "Das Dorf liegt in den Bergen.", exampleEn: "The village lies in the mountains." },
            { german: "Der Nebel", english: "the fog", exampleDe: "Der Nebel ist sehr dicht heute.", exampleEn: "The fog is very thick today." },
            { german: "Die Finsternis", english: "the darkness", exampleDe: "Die Finsternis umgab uns.", exampleEn: "The darkness surrounded us." },
            { german: "umgeben", english: "to surround", exampleDe: "B√§ume umgeben das Haus.", exampleEn: "Trees surround the house." },
            { german: "deuten", english: "to indicate", exampleDe: "Alles deutet auf Erfolg.", exampleEn: "Everything indicates success." },
            { german: "andeuten", english: "to suggest / imply", exampleDe: "Er deutete an, dass er geht.", exampleEn: "He implied that he's leaving." },
            { german: "f√ºhren", english: "to lead / run", exampleDe: "Sie f√ºhrt das Unternehmen.", exampleEn: "She runs the company." },
            { german: "blicken", english: "to look", exampleDe: "Er blickte aus dem Fenster.", exampleEn: "He looked out the window." },
            { german: "Das Nachtlager", english: "place to sleep for the night", exampleDe: "Wir suchten ein Nachtlager.", exampleEn: "We looked for a place to sleep." },
            { german: "Das Wirthaus", english: "the inn", exampleDe: "Das Wirthaus war voll.", exampleEn: "The inn was full." },
            { german: "zwar", english: "indeed", exampleDe: "Er ist zwar jung, aber klug.", exampleEn: "He is indeed young, but clever." },
            { german: "vermieten", english: "to rent", exampleDe: "Sie vermietet ihre Wohnung.", exampleEn: "She rents out her apartment." },
            { german: "√§u√üerst", english: "extremely", exampleDe: "Das ist √§u√üerst wichtig.", exampleEn: "That is extremely important." },
            { german: "√ºberrascht", english: "surprised", exampleDe: "Ich war sehr √ºberrascht.", exampleEn: "I was very surprised." },
            { german: "verwirrt", english: "confused", exampleDe: "Er sah verwirrt aus.", exampleEn: "He looked confused." },
            { german: "einige", english: "some", exampleDe: "Einige Leute kamen sp√§t.", exampleEn: "Some people came late." },
            { german: "holen", english: "to get / fetch", exampleDe: "Ich hole dir ein Glas Wasser.", exampleEn: "I'll get you a glass of water." },
            { german: "Der Dachboden", english: "the attic", exampleDe: "Die alten Fotos sind auf dem Dachboden.", exampleEn: "The old photos are in the attic." },
            { german: "pr√ºfen", english: "to examine", exampleDe: "Der Arzt pr√ºft die Ergebnisse.", exampleEn: "The doctor examines the results." },
            { german: "einschlafen", english: "to fall asleep", exampleDe: "Ich kann nicht einschlafen.", exampleEn: "I can't fall asleep." },
            { german: "darauf", english: "thereafter", exampleDe: "Kurz darauf ging er.", exampleEn: "Shortly thereafter he left." },
            { german: "aufwachen", english: "to wake up", exampleDe: "Ich wache immer fr√ºh auf.", exampleEn: "I always wake up early." },
            { german: "st√§dtisch", english: "urban", exampleDe: "Das st√§dtische Leben ist hektisch.", exampleEn: "Urban life is hectic." },
            { german: "anziehen", english: "to put on", exampleDe: "Zieh deinen Mantel an.", exampleEn: "Put on your coat." },
            { german: "schmal", english: "narrow", exampleDe: "Die Stra√üe ist sehr schmal.", exampleEn: "The street is very narrow." },
            { german: "Der Wirt", english: "the innkeeper", exampleDe: "Der Wirt begr√º√üte uns freundlich.", exampleEn: "The innkeeper greeted us warmly." },
            { german: "herumdrehen", english: "to pull around", exampleDe: "Er drehte sich herum.", exampleEn: "He turned around." },
            { german: "stellen", english: "to place", exampleDe: "Stell die Tasse auf den Tisch.", exampleEn: "Place the cup on the table." },
            { german: "vorstellen sich", english: "to introduce themselves", exampleDe: "Darf ich mich vorstellen?", exampleEn: "May I introduce myself?" },
            { german: "h√∂flich", english: "politely", exampleDe: "Sie fragte h√∂flich nach dem Weg.", exampleEn: "She politely asked for directions." },
            { german: "Der Besitz", english: "the property", exampleDe: "Das ist privater Besitz.", exampleEn: "This is private property." },
            { german: "√ºbernachten", english: "to stay / to spend the night", exampleDe: "Wir √ºbernachten im Hotel.", exampleEn: "We're staying at a hotel." },
            { german: "gewisserma√üen", english: "in a sense", exampleDe: "Er hat gewisserma√üen recht.", exampleEn: "He is right in a sense." },
            { german: "Die Erlaubnis", english: "the permission", exampleDe: "Ich brauche deine Erlaubnis.", exampleEn: "I need your permission." },
            { german: "gr√§fliche", english: "countly", exampleDe: "Das gr√§fliche Anwesen ist alt.", exampleEn: "The count's estate is old." },
            { german: "solche", english: "such", exampleDe: "Solche Dinge passieren.", exampleEn: "Such things happen." },
            { german: "vorzeigen", english: "to show / exhibit / produce", exampleDe: "Bitte zeigen Sie Ihren Ausweis vor.", exampleEn: "Please show your ID." },
            { german: "wenigstens", english: "at least", exampleDe: "Ruf wenigstens an.", exampleEn: "At least call." },
            { german: "Die Haare", english: "the hair", exampleDe: "Ihre Haare sind sehr lang.", exampleEn: "Her hair is very long." },
            { german: "aufrichten", english: "to erect", exampleDe: "Er richtete sich langsam auf.", exampleEn: "He slowly straightened up." },
            { german: "allerdings", english: "indeed / certainly / though", exampleDe: "Das stimmt allerdings.", exampleEn: "That is indeed true." },
            { german: "w√§hrend", english: "while / during", exampleDe: "W√§hrend ich schlief, regnete es.", exampleEn: "While I slept, it rained." },
            { german: "davon", english: "thereof / from that", exampleDe: "Ich habe davon geh√∂rt.", exampleEn: "I heard about that." },
            { german: "√ºberzeugen", english: "to convince", exampleDe: "Kann ich dich √ºberzeugen?", exampleEn: "Can I convince you?" },
            { german: "Der Spott", english: "the mockery", exampleDe: "Sein Spott war verletzend.", exampleEn: "His mockery was hurtful." },
            { german: "schieben", english: "to push / shove", exampleDe: "Schieb den Tisch zur Seite.", exampleEn: "Push the table aside." },
            { german: "√ºbrigbleiben", english: "to remain / to be left over", exampleDe: "Was bleibt √ºbrig?", exampleEn: "What remains?" },
            { german: "rufen", english: "to call / to shout", exampleDe: "Sie rief seinen Namen.", exampleEn: "She called his name." },
            { german: "treten", english: "to step", exampleDe: "Bitte treten Sie ein.", exampleEn: "Please step in." },
            { german: "Der Schritt", english: "the step", exampleDe: "Ein kleiner Schritt f√ºr mich.", exampleEn: "A small step for me." },
            { german: "m√∂glich", english: "possible", exampleDe: "Ist das m√∂glich?", exampleEn: "Is that possible?" },
            { german: "gleichm√ºtig", english: "serenely", exampleDe: "Er blieb gleichm√ºtig.", exampleEn: "He remained serene." },
            { german: "geraten", english: "to get", exampleDe: "Wir sind in Schwierigkeiten geraten.", exampleEn: "We got into trouble." },
            { german: "verlangen", english: "to demand / to require", exampleDe: "Sie verlangt eine Erkl√§rung.", exampleEn: "She demands an explanation." },
            { german: "Die Beh√∂rde", english: "the authority", exampleDe: "Die Beh√∂rde hat entschieden.", exampleEn: "The authority has decided." },
            { german: "deshalb", english: "therefore", exampleDe: "Deshalb bin ich hier.", exampleEn: "Therefore I am here." },
            { german: "mitteilen", english: "to inform", exampleDe: "Ich muss dir etwas mitteilen.", exampleEn: "I have to inform you of something." },
            { german: "Das Gebiet", english: "the territory", exampleDe: "Das Gebiet ist gesch√ºtzt.", exampleEn: "The territory is protected." },
            { german: "verlassen", english: "to leave", exampleDe: "Wann hast du das Haus verlassen?", exampleEn: "When did you leave the house?" },
            { german: "Genug der Kom√∂die", english: "enough of the comedy", exampleDe: "Genug der Kom√∂die, sag die Wahrheit.", exampleEn: "Enough of this comedy, tell the truth." },
            { german: "auffallend", english: "noticeably / strikingly", exampleDe: "Sie war auffallend sch√∂n.", exampleEn: "She was strikingly beautiful." },
            { german: "leise", english: "quietly / softly", exampleDe: "Sprich bitte leise.", exampleEn: "Please speak quietly." },
            { german: "ziehen", english: "to pull", exampleDe: "Zieh an der T√ºr.", exampleEn: "Pull the door." },
            { german: "Das Benehmen", english: "the behaviour / conduct", exampleDe: "Sein Benehmen war unh√∂flich.", exampleEn: "His behaviour was rude." },
            { german: "zur√ºckkommen", english: "to come back", exampleDe: "Wann kommst du zur√ºck?", exampleEn: "When are you coming back?" },
            { german: "zeugen", english: "to testify", exampleDe: "Er musste vor Gericht zeugen.", exampleEn: "He had to testify in court." },
            { german: "soweit", english: "so far / insofar as", exampleDe: "Soweit ich wei√ü, stimmt das.", exampleEn: "As far as I know, that's correct." },
            { german: "sonst", english: "otherwise", exampleDe: "Beeil dich, sonst kommen wir zu sp√§t.", exampleEn: "Hurry, otherwise we'll be late." },
            { german: "kommen lassen", english: "to let come", exampleDe: "Lass ihn kommen.", exampleEn: "Let him come." },
            { german: "Der Marsch", english: "the march", exampleDe: "Der Marsch war lang.", exampleEn: "The march was long." },
            { german: "entgehen", english: "to escape / to miss", exampleDe: "Das ist mir entgangen.", exampleEn: "I missed that." },
            { german: "erst", english: "only / first", exampleDe: "Ich komme erst morgen.", exampleEn: "I'm only coming tomorrow." },
            { german: "ankommen", english: "to arrive", exampleDe: "Wann kommst du an?", exampleEn: "When do you arrive?" },
            { german: "melden", english: "to report / to register", exampleDe: "Bitte melden Sie sich am Empfang.", exampleEn: "Please register at reception." },
            { german: "Die Belehrung", english: "the instruction", exampleDe: "Die Belehrung war hilfreich.", exampleEn: "The instruction was helpful." },
            { german: "Die Unh√∂flichkeit", english: "the impoliteness", exampleDe: "Seine Unh√∂flichkeit √ºberraschte mich.", exampleEn: "His impoliteness surprised me." },
            { german: "gelinde gesagt", english: "to put it lightly / to say the least", exampleDe: "Das war, gelinde gesagt, ein Fehler.", exampleEn: "That was, to put it lightly, a mistake." },
            { german: "drehen", english: "to turn", exampleDe: "Dreh den Schl√ºssel nach rechts.", exampleEn: "Turn the key to the right." },
            { german: "Der R√ºcken", english: "the back (body)", exampleDe: "Mein R√ºcken tut weh.", exampleEn: "My back hurts." },
            { german: "z√∂gernd", english: "hesitantly", exampleDe: "Er antwortete z√∂gernd.", exampleEn: "He answered hesitantly." },
            { german: "bald", english: "soon", exampleDe: "Bis bald!", exampleEn: "See you soon!" },
            { german: "Der Ton", english: "the tone", exampleDe: "Sein Ton war freundlich.", exampleEn: "His tone was friendly." },
            { german: "ged√§mpft", english: "dampened", exampleDe: "Die Musik war ged√§mpft.", exampleEn: "The music was muted." },
            { german: "Die R√ºcksichtnahme", english: "the consideration for others", exampleDe: "Danke f√ºr Ihre R√ºcksichtnahme.", exampleEn: "Thank you for your consideration." },
            { german: "gelten", english: "to apply to", exampleDe: "Diese Regel gilt f√ºr alle.", exampleEn: "This rule applies to everyone." },
            { german: "verst√§ndlich", english: "understandable", exampleDe: "Das ist verst√§ndlich.", exampleEn: "That's understandable." },
            { german: "anfragen", english: "to ask (formally / officially)", exampleDe: "Ich werde offiziell anfragen.", exampleEn: "I will inquire officially." },
            { german: "vorz√ºglich", english: "excellent", exampleDe: "Das Essen war vorz√ºglich.", exampleEn: "The food was excellent." },
            { german: "einrichten", english: "to set up / to furnish", exampleDe: "Wir richten die Wohnung ein.", exampleEn: "We're furnishing the apartment." },
            { german: "erwarten", english: "to expect", exampleDe: "Ich erwarte dich um sechs.", exampleEn: "I expect you at six." },
            { german: "freilich", english: "of course", exampleDe: "Das ist freilich wahr.", exampleEn: "That is of course true." },
            { german: "Die Verschlafenheit", english: "the sleepiness", exampleDe: "Die Verschlafenheit war ihm anzusehen.", exampleEn: "His sleepiness was visible." },
            { german: "schonen", english: "to spare / to conserve", exampleDe: "Du solltest deine Kr√§fte schonen.", exampleEn: "You should conserve your energy." },
            { german: "darum", english: "therefore", exampleDe: "Darum geht es nicht.", exampleEn: "That's not what it's about." },
            { german: "ob", english: "whether", exampleDe: "Ich wei√ü nicht, ob er kommt.", exampleEn: "I don't know whether he's coming." },
            { german: "zulassen", english: "to allow", exampleDe: "Das kann ich nicht zulassen.", exampleEn: "I cannot allow that." },
            { german: "beschlie√üen", english: "to decide on", exampleDe: "Wir haben beschlossen zu gehen.", exampleEn: "We decided to leave." },
            { german: "der Sinn", english: "the sense", exampleDe: "Das macht keinen Sinn.", exampleEn: "That makes no sense." },
            { german: "scheu", english: "shy", exampleDe: "Das Kind ist sehr scheu.", exampleEn: "The child is very shy." },
            { german: "zusammenr√ºcken", english: "to move closer together", exampleDe: "K√∂nnen wir zusammenr√ºcken?", exampleEn: "Can we move closer together?" },
            { german: "besprechen", english: "to discuss", exampleDe: "Wir m√ºssen das besprechen.", exampleEn: "We need to discuss this." },
            { german: "die Ankunft", english: "the arrival", exampleDe: "Die Ankunft ist um zehn Uhr.", exampleEn: "The arrival is at ten o'clock." },
            { german: "m√§chtig", english: "powerful", exampleDe: "Der K√∂nig war sehr m√§chtig.", exampleEn: "The king was very powerful." },
            { german: "Die Gestalt", english: "the form", exampleDe: "Eine dunkle Gestalt erschien.", exampleEn: "A dark figure appeared." },
            { german: "berichten", english: "to report", exampleDe: "Die Zeitung berichtet dar√ºber.", exampleEn: "The newspaper reports on it." },
            { german: "winzig", english: "tiny", exampleDe: "Das Haus war winzig.", exampleEn: "The house was tiny." },
            { german: "recht", english: "pretty / quite", exampleDe: "Das ist recht interessant.", exampleEn: "That's quite interesting." },
            { german: "zerlumpt", english: "ragged", exampleDe: "Seine Kleidung war zerlumpt.", exampleEn: "His clothes were ragged." },
            { german: "verd√§chtig", english: "suspicious", exampleDe: "Das klingt verd√§chtig.", exampleEn: "That sounds suspicious." },
            { german: "offenbar", english: "apparently", exampleDe: "Offenbar hat er recht.", exampleEn: "Apparently he's right." },
            { german: "erz√§hlen", english: "to tell / to relate", exampleDe: "Erz√§hl mir eine Geschichte.", exampleEn: "Tell me a story." },
            { german: "Das Verh√∂r", english: "the interrogation", exampleDe: "Das Verh√∂r dauerte Stunden.", exampleEn: "The interrogation lasted hours." },
            { german: "ungn√§dig", english: "ungracious", exampleDe: "Seine Antwort war ungn√§dig.", exampleEn: "His answer was ungracious." },
            { german: "Die Androhung", english: "the threat", exampleDe: "Die Androhung war ernst.", exampleEn: "The threat was serious." },
            { german: "Die Grafschaft", english: "the county / shire", exampleDe: "Die Grafschaft ist gro√ü.", exampleEn: "The county is large." },
            { german: "behaupten", english: "to claim", exampleDe: "Er behauptet, unschuldig zu sein.", exampleEn: "He claims to be innocent." },
            { german: "zumindest", english: "at least", exampleDe: "Zumindest haben wir es versucht.", exampleEn: "At least we tried." },
            { german: "Die Behauptung", english: "the claim", exampleDe: "Diese Behauptung ist falsch.", exampleEn: "This claim is false." },
            { german: "erkundigen", english: "to inquire", exampleDe: "Ich werde mich erkundigen.", exampleEn: "I will inquire." },
            { german: "beantragen", english: "to apply for", exampleDe: "Ich m√∂chte ein Visum beantragen.", exampleEn: "I want to apply for a visa." },
            { german: "ausgeben", english: "to spend out", exampleDe: "Er gibt viel Geld aus.", exampleEn: "He spends a lot of money." },
            { german: "Zeit verbringen", english: "to spend time", exampleDe: "Wir verbringen Zeit zusammen.", exampleEn: "We spend time together." },
            { german: "verkaufen", english: "to sell", exampleDe: "Er verkauft sein Auto.", exampleEn: "He's selling his car." },
            { german: "√ºberlegen", english: "to think about", exampleDe: "Ich muss dar√ºber √ºberlegen.", exampleEn: "I need to think about it." },
            { german: "besuchen", english: "to visit (a place or person)", exampleDe: "Ich besuche meine Oma.", exampleEn: "I'm visiting my grandma." },
            { german: "besichtigen", english: "to visit and look at in detail", exampleDe: "Wir besichtigen das Schloss.", exampleEn: "We're touring the castle." },
            { german: "abholen", english: "to collect", exampleDe: "Ich hole dich um acht ab.", exampleEn: "I'll pick you up at eight." },
            { german: "vor kurzem / in letzter Zeit", english: "recently", exampleDe: "Ich habe ihn vor kurzem gesehen.", exampleEn: "I saw him recently." },
            { german: "die Lieferung", english: "the delivery", exampleDe: "Die Lieferung kommt morgen.", exampleEn: "The delivery arrives tomorrow." },
            { german: "Geld ausgeben", english: "to spend money", exampleDe: "Sie gibt gern Geld aus.", exampleEn: "She likes to spend money." },
            { german: "Vor allem", english: "mainly / most of all / first of all", exampleDe: "Vor allem brauchen wir Zeit.", exampleEn: "Most of all, we need time." },
            { german: "Das hei√üt", english: "that means", exampleDe: "Das hei√üt, wir m√ºssen warten.", exampleEn: "That means we have to wait." },
            { german: "Stehen auf", english: "to be really into something", exampleDe: "Ich stehe auf Jazz-Musik.", exampleEn: "I'm really into jazz music." }
        ];

        // Conversational German Vocabulary
        const conversationalVocab = [
            { german: "meinen", english: "to mean / to think", exampleDe: "Was meinst du damit?", exampleEn: "What do you mean by that?" },
            { german: "glauben", english: "to believe / to think", exampleDe: "Ich glaube, er kommt sp√§ter.", exampleEn: "I think he's coming later." },
            { german: "wissen", english: "to know (facts)", exampleDe: "Ich wei√ü es nicht.", exampleEn: "I don't know." },
            { german: "kennen", english: "to know (people/places)", exampleDe: "Kennst du seinen Bruder?", exampleEn: "Do you know his brother?" },
            { german: "verstehen", english: "to understand", exampleDe: "Verstehst du, was ich meine?", exampleEn: "Do you understand what I mean?" },
            { german: "versuchen", english: "to try", exampleDe: "Ich versuche, fr√ºher zu kommen.", exampleEn: "I'm trying to come earlier." },
            { german: "brauchen", english: "to need", exampleDe: "Ich brauche deine Hilfe.", exampleEn: "I need your help." },
            { german: "schaffen", english: "to manage / to do", exampleDe: "Das schaffen wir!", exampleEn: "We can do it!" },
            { german: "klappen", english: "to work out", exampleDe: "Hat alles geklappt?", exampleEn: "Did everything work out?" },
            { german: "stimmen", english: "to be correct", exampleDe: "Das stimmt.", exampleEn: "That's right." },
            { german: "passen", english: "to fit / to suit", exampleDe: "Passt dir Samstag?", exampleEn: "Does Saturday work for you?" },
            { german: "reichen", english: "to be enough", exampleDe: "Das reicht mir.", exampleEn: "That's enough for me." },
            { german: "fehlen", english: "to be missing / to miss", exampleDe: "Du fehlst mir.", exampleEn: "I miss you." },
            { german: "geh√∂ren", english: "to belong to", exampleDe: "Wem geh√∂rt das?", exampleEn: "Who does this belong to?" },
            { german: "sich freuen", english: "to be happy / look forward", exampleDe: "Ich freue mich auf dich.", exampleEn: "I'm looking forward to seeing you." },
            { german: "sich √§rgern", english: "to be annoyed", exampleDe: "Ich √§rgere mich √ºber ihn.", exampleEn: "I'm annoyed with him." },
            { german: "sich f√ºhlen", english: "to feel", exampleDe: "Wie f√ºhlst du dich?", exampleEn: "How do you feel?" },
            { german: "sich erinnern", english: "to remember", exampleDe: "Erinnerst du dich an sie?", exampleEn: "Do you remember her?" },
            { german: "sich entscheiden", english: "to decide", exampleDe: "Ich kann mich nicht entscheiden.", exampleEn: "I can't decide." },
            { german: "sich unterhalten", english: "to chat", exampleDe: "Wir haben uns lange unterhalten.", exampleEn: "We chatted for a long time." },
            { german: "sich treffen", english: "to meet up", exampleDe: "Wollen wir uns treffen?", exampleEn: "Shall we meet up?" },
            { german: "sich beeilen", english: "to hurry", exampleDe: "Beeil dich!", exampleEn: "Hurry up!" },
            { german: "aufh√∂ren", english: "to stop", exampleDe: "H√∂r auf damit!", exampleEn: "Stop it!" },
            { german: "anfangen", english: "to start / begin", exampleDe: "Wann f√§ngt der Film an?", exampleEn: "When does the film start?" },
            { german: "aufmachen", english: "to open", exampleDe: "Mach mal das Fenster auf.", exampleEn: "Open the window." },
            { german: "zumachen", english: "to close", exampleDe: "Mach bitte die T√ºr zu.", exampleEn: "Please close the door." },
            { german: "ausmachen", english: "to turn off", exampleDe: "Mach das Licht aus.", exampleEn: "Turn off the light." },
            { german: "anmachen", english: "to turn on", exampleDe: "Kannst du die Heizung anmachen?", exampleEn: "Can you turn on the heating?" },
            { german: "mitkommen", english: "to come along", exampleDe: "Kommst du mit?", exampleEn: "Are you coming along?" },
            { german: "mitnehmen", english: "to take along", exampleDe: "Nimm einen Regenschirm mit.", exampleEn: "Take an umbrella with you." },
            { german: "mitbringen", english: "to bring along", exampleDe: "Soll ich was mitbringen?", exampleEn: "Should I bring something?" },
            { german: "ausgehen", english: "to go out", exampleDe: "Gehen wir heute Abend aus?", exampleEn: "Shall we go out tonight?" },
            { german: "vorbeikommen", english: "to come by", exampleDe: "Komm doch mal vorbei!", exampleEn: "Come by sometime!" },
            { german: "weitermachen", english: "to continue", exampleDe: "Mach einfach weiter.", exampleEn: "Just keep going." },
            { german: "aufpassen", english: "to pay attention", exampleDe: "Pass auf!", exampleEn: "Watch out!" },
            { german: "nachdenken", english: "to think about", exampleDe: "Ich muss dar√ºber nachdenken.", exampleEn: "I need to think about it." },
            { german: "ausprobieren", english: "to try out", exampleDe: "Probier das mal aus!", exampleEn: "Try this out!" },
            { german: "herausfinden", english: "to find out", exampleDe: "Wir m√ºssen das herausfinden.", exampleEn: "We need to find that out." },
            { german: "kapieren", english: "to get / understand (informal)", exampleDe: "Kapierst du das?", exampleEn: "Do you get it?" },
            { german: "checken", english: "to check (informal)", exampleDe: "Check mal dein Handy.", exampleEn: "Check your phone." },
            { german: "nerven", english: "to annoy", exampleDe: "Das nervt mich so.", exampleEn: "That annoys me so much." },
            { german: "st√∂ren", english: "to disturb", exampleDe: "St√∂re ich gerade?", exampleEn: "Am I disturbing you?" },
            { german: "sich lohnen", english: "to be worth it", exampleDe: "Das lohnt sich nicht.", exampleEn: "It's not worth it." },
            { german: "sich k√ºmmern", english: "to take care of", exampleDe: "Ich k√ºmmere mich darum.", exampleEn: "I'll take care of it." },
            { german: "sich gew√∂hnen", english: "to get used to", exampleDe: "Daran gew√∂hnt man sich.", exampleEn: "You get used to it." },
            { german: "sich aufregen", english: "to get worked up", exampleDe: "Reg dich nicht auf!", exampleEn: "Don't get worked up!" },
            { german: "der Typ", english: "the guy", exampleDe: "Wer ist der Typ da?", exampleEn: "Who's that guy there?" },
            { german: "die Leute", english: "the people", exampleDe: "Die Leute hier sind nett.", exampleEn: "The people here are nice." },
            { german: "der Kumpel", english: "the mate / buddy", exampleDe: "Er ist ein alter Kumpel.", exampleEn: "He's an old mate." },
            { german: "die Sache", english: "the thing / matter", exampleDe: "Das ist eine andere Sache.", exampleEn: "That's a different matter." },
            { german: "das Ding", english: "the thing", exampleDe: "Was ist das f√ºr ein Ding?", exampleEn: "What kind of thing is that?" },
            { german: "der Quatsch", english: "the nonsense", exampleDe: "Das ist doch Quatsch!", exampleEn: "That's nonsense!" },
            { german: "der Stress", english: "the stress", exampleDe: "Ich hab gerade viel Stress.", exampleEn: "I have a lot of stress right now." },
            { german: "die Ahnung", english: "the idea / clue", exampleDe: "Keine Ahnung!", exampleEn: "No idea!" },
            { german: "die Lust", english: "the desire / mood", exampleDe: "Ich hab keine Lust.", exampleEn: "I don't feel like it." },
            { german: "die Laune", english: "the mood", exampleDe: "Er hat schlechte Laune.", exampleEn: "He's in a bad mood." },
            { german: "der Grund", english: "the reason", exampleDe: "Aus welchem Grund?", exampleEn: "For what reason?" },
            { german: "der Unterschied", english: "the difference", exampleDe: "Was ist der Unterschied?", exampleEn: "What's the difference?" },
            { german: "das Problem", english: "the problem", exampleDe: "Kein Problem!", exampleEn: "No problem!" },
            { german: "die Meinung", english: "the opinion", exampleDe: "Meiner Meinung nach...", exampleEn: "In my opinion..." },
            { german: "der Plan", english: "the plan", exampleDe: "Was ist der Plan f√ºr heute?", exampleEn: "What's the plan for today?" },
            { german: "der Termin", english: "the appointment", exampleDe: "Ich hab einen Termin.", exampleEn: "I have an appointment." },
            { german: "die Nachricht", english: "the message", exampleDe: "Hast du meine Nachricht bekommen?", exampleEn: "Did you get my message?" },
            { german: "das Gespr√§ch", english: "the conversation", exampleDe: "Das war ein gutes Gespr√§ch.", exampleEn: "That was a good conversation." },
            { german: "der Witz", english: "the joke", exampleDe: "Das war nur ein Witz.", exampleEn: "It was just a joke." },
            { german: "die √úberraschung", english: "the surprise", exampleDe: "Das ist eine √úberraschung!", exampleEn: "That's a surprise!" },
            { german: "der Fehler", english: "the mistake", exampleDe: "Das war mein Fehler.", exampleEn: "That was my mistake." },
            { german: "die Wahrheit", english: "the truth", exampleDe: "Sag mir die Wahrheit.", exampleEn: "Tell me the truth." },
            { german: "das Gef√ºhl", english: "the feeling", exampleDe: "Ich hab ein komisches Gef√ºhl.", exampleEn: "I have a strange feeling." },
            { german: "das Gl√ºck", english: "the luck / happiness", exampleDe: "Du hast Gl√ºck gehabt!", exampleEn: "You were lucky!" },
            { german: "das Pech", english: "the bad luck", exampleDe: "So ein Pech!", exampleEn: "Such bad luck!" },
            { german: "der Spa√ü", english: "the fun", exampleDe: "Das macht Spa√ü!", exampleEn: "That's fun!" },
            { german: "die Party", english: "the party", exampleDe: "Kommst du zur Party?", exampleEn: "Are you coming to the party?" },
            { german: "die Kneipe", english: "the pub", exampleDe: "Gehen wir in die Kneipe?", exampleEn: "Shall we go to the pub?" },
            { german: "das Handy", english: "the mobile phone", exampleDe: "Mein Handy ist leer.", exampleEn: "My phone is dead." },
            { german: "die WG", english: "the shared flat", exampleDe: "Ich wohne in einer WG.", exampleEn: "I live in a shared flat." },
            { german: "das Zeug", english: "the stuff", exampleDe: "Was ist das f√ºr Zeug?", exampleEn: "What's this stuff?" },
            { german: "toll", english: "great / awesome", exampleDe: "Das ist toll!", exampleEn: "That's great!" },
            { german: "super", english: "super / great", exampleDe: "Das ist super!", exampleEn: "That's great!" },
            { german: "geil", english: "awesome / cool (slang)", exampleDe: "Das ist voll geil!", exampleEn: "That's so cool!" },
            { german: "krass", english: "crazy / intense (slang)", exampleDe: "Das ist echt krass.", exampleEn: "That's really intense." },
            { german: "cool", english: "cool", exampleDe: "Das ist echt cool.", exampleEn: "That's really cool." },
            { german: "bl√∂d", english: "stupid / annoying", exampleDe: "Das ist so bl√∂d.", exampleEn: "That's so stupid." },
            { german: "doof", english: "dumb / silly", exampleDe: "Sei nicht so doof.", exampleEn: "Don't be so dumb." },
            { german: "schlimm", english: "bad / serious", exampleDe: "Das ist nicht so schlimm.", exampleEn: "That's not so bad." },
            { german: "komisch", english: "strange / funny", exampleDe: "Das ist komisch.", exampleEn: "That's strange." },
            { german: "seltsam", english: "weird / odd", exampleDe: "Das ist seltsam.", exampleEn: "That's weird." },
            { german: "lustig", english: "funny", exampleDe: "Das ist lustig.", exampleEn: "That's funny." },
            { german: "witzig", english: "funny / witty", exampleDe: "Das ist witzig.", exampleEn: "That's funny." },
            { german: "langweilig", english: "boring", exampleDe: "Der Film war langweilig.", exampleEn: "The film was boring." },
            { german: "spannend", english: "exciting", exampleDe: "Das Buch ist spannend.", exampleEn: "The book is exciting." },
            { german: "anstrengend", english: "exhausting", exampleDe: "Die Arbeit ist anstrengend.", exampleEn: "The work is exhausting." },
            { german: "gem√ºtlich", english: "cozy", exampleDe: "Es ist hier gem√ºtlich.", exampleEn: "It's cozy here." },
            { german: "praktisch", english: "practical / handy", exampleDe: "Das ist sehr praktisch.", exampleEn: "That's very practical." },
            { german: "kompliziert", english: "complicated", exampleDe: "Das ist zu kompliziert.", exampleEn: "That's too complicated." },
            { german: "einfach", english: "simple / just", exampleDe: "Das ist ganz einfach.", exampleEn: "That's quite simple." },
            { german: "egal", english: "doesn't matter", exampleDe: "Das ist mir egal.", exampleEn: "I don't care." },
            { german: "peinlich", english: "embarrassing", exampleDe: "Das war so peinlich.", exampleEn: "That was so embarrassing." },
            { german: "typisch", english: "typical", exampleDe: "Typisch!", exampleEn: "Typical!" },
            { german: "echt", english: "real / really", exampleDe: "Echt jetzt?", exampleEn: "Really? / For real?" },
            { german: "total", english: "totally", exampleDe: "Das ist total verr√ºckt.", exampleEn: "That's totally crazy." },
            { german: "unglaublich", english: "unbelievable", exampleDe: "Das ist unglaublich!", exampleEn: "That's unbelievable!" },
            { german: "verr√ºckt", english: "crazy", exampleDe: "Bist du verr√ºckt?", exampleEn: "Are you crazy?" },
            { german: "nett", english: "nice", exampleDe: "Das ist nett von dir.", exampleEn: "That's nice of you." },
            { german: "lieb", english: "sweet / dear", exampleDe: "Das ist lieb.", exampleEn: "That's sweet." },
            { german: "s√º√ü", english: "sweet / cute", exampleDe: "Die Katze ist s√º√ü.", exampleEn: "The cat is cute." },
            { german: "fertig", english: "finished / exhausted", exampleDe: "Ich bin fertig.", exampleEn: "I'm done. / I'm exhausted." },
            { german: "bereit", english: "ready", exampleDe: "Bist du bereit?", exampleEn: "Are you ready?" },
            { german: "satt", english: "full (from eating)", exampleDe: "Ich bin satt.", exampleEn: "I'm full." },
            { german: "m√ºde", english: "tired", exampleDe: "Ich bin so m√ºde.", exampleEn: "I'm so tired." },
            { german: "betrunken", english: "drunk", exampleDe: "Er ist betrunken.", exampleEn: "He's drunk." },
            { german: "pleite", english: "broke (no money)", exampleDe: "Ich bin pleite.", exampleEn: "I'm broke." },
            { german: "Na?", english: "Hey? / What's up?", exampleDe: "Na, wie geht's?", exampleEn: "Hey, how's it going?" },
            { german: "Na ja", english: "Well... / I guess", exampleDe: "Na ja, mal sehen.", exampleEn: "Well, we'll see." },
            { german: "Na klar", english: "Of course / Sure", exampleDe: "Na klar kannst du kommen.", exampleEn: "Of course you can come." },
            { german: "Na und?", english: "So what?", exampleDe: "Na und? Ist mir egal.", exampleEn: "So what? I don't care." },
            { german: "Ach so", english: "Oh I see", exampleDe: "Ach so, jetzt verstehe ich.", exampleEn: "Oh I see, now I understand." },
            { german: "Ach was", english: "Oh come on / No way", exampleDe: "Ach was, das stimmt nicht.", exampleEn: "Oh come on, that's not true." },
            { german: "Genau", english: "Exactly", exampleDe: "Genau das meine ich.", exampleEn: "That's exactly what I mean." },
            { german: "Stimmt", english: "True / That's right", exampleDe: "Stimmt, du hast recht.", exampleEn: "True, you're right." },
            { german: "Eben", english: "Exactly / That's the point", exampleDe: "Eben! Das sage ich doch.", exampleEn: "Exactly! That's what I'm saying." },
            { german: "Halt", english: "Just / Simply (filler)", exampleDe: "Das ist halt so.", exampleEn: "That's just how it is." },
            { german: "Doch", english: "Yes (contradicting)", exampleDe: "Doch, das stimmt!", exampleEn: "Yes it is! (contradicting 'no')" },
            { german: "Oder?", english: "Right? / Isn't it?", exampleDe: "Das war gut, oder?", exampleEn: "That was good, right?" },
            { german: "Oder so", english: "Or something like that", exampleDe: "Um acht oder so.", exampleEn: "Around eight or so." },
            { german: "Also", english: "So / Well / I mean", exampleDe: "Also, ich wei√ü nicht...", exampleEn: "Well, I don't know..." },
            { german: "Eigentlich", english: "Actually", exampleDe: "Eigentlich wollte ich gehen.", exampleEn: "Actually I wanted to leave." },
            { german: "√úbrigens", english: "By the way", exampleDe: "√úbrigens, hast du geh√∂rt...?", exampleEn: "By the way, did you hear...?" },
            { german: "Jedenfalls", english: "Anyway", exampleDe: "Jedenfalls, das war lustig.", exampleEn: "Anyway, that was funny." },
            { german: "Trotzdem", english: "Nevertheless / Still", exampleDe: "Trotzdem mag ich ihn.", exampleEn: "I still like him." },
            { german: "Irgendwie", english: "Somehow / Kind of", exampleDe: "Das ist irgendwie komisch.", exampleEn: "That's kind of weird." },
            { german: "Irgendwann", english: "Sometime / Eventually", exampleDe: "Irgendwann schaffe ich das.", exampleEn: "I'll manage it eventually." },
            { german: "Irgendwo", english: "Somewhere", exampleDe: "Das muss irgendwo sein.", exampleEn: "It must be somewhere." },
            { german: "Irgendwas", english: "Something", exampleDe: "Irgendwas stimmt nicht.", exampleEn: "Something's not right." },
            { german: "Immerhin", english: "At least / After all", exampleDe: "Immerhin haben wir es versucht.", exampleEn: "At least we tried." },
            { german: "Anscheinend", english: "Apparently", exampleDe: "Anscheinend kommt er nicht.", exampleEn: "Apparently he's not coming." },
            { german: "Bestimmt", english: "Definitely", exampleDe: "Das klappt bestimmt.", exampleEn: "That'll definitely work." },
            { german: "Auf jeden Fall", english: "Definitely", exampleDe: "Auf jeden Fall komme ich.", exampleEn: "I'm definitely coming." },
            { german: "Auf keinen Fall", english: "No way / Definitely not", exampleDe: "Auf keinen Fall!", exampleEn: "No way!" },
            { german: "Keine Ahnung", english: "No idea", exampleDe: "Keine Ahnung, wo er ist.", exampleEn: "No idea where he is." },
            { german: "Kein Problem", english: "No problem", exampleDe: "Kein Problem, ich helfe dir.", exampleEn: "No problem, I'll help you." },
            { german: "Macht nichts", english: "Doesn't matter", exampleDe: "Macht nichts, ich verstehe.", exampleEn: "Never mind, I understand." },
            { german: "Lass mal", english: "Never mind / Forget it", exampleDe: "Lass mal, ich mach das.", exampleEn: "Never mind, I'll do it." },
            { german: "Moment mal", english: "Wait a moment", exampleDe: "Moment mal, das stimmt nicht.", exampleEn: "Wait a moment, that's not right." },
            { german: "Wei√üt du was", english: "You know what", exampleDe: "Wei√üt du was, ich komme mit.", exampleEn: "You know what, I'll come along." },
            { german: "Sag mal", english: "Tell me / Say", exampleDe: "Sag mal, was machst du da?", exampleEn: "Hey, what are you doing there?" },
            { german: "Schau mal", english: "Look", exampleDe: "Schau mal, wie sch√∂n!", exampleEn: "Look how beautiful!" },
            { german: "H√∂r mal", english: "Listen", exampleDe: "H√∂r mal, das ist wichtig.", exampleEn: "Listen, this is important." },
            { german: "Guck mal", english: "Look (informal)", exampleDe: "Guck mal, was ich gefunden habe!", exampleEn: "Look what I found!" },
            { german: "Krass!", english: "Wow! / Crazy!", exampleDe: "Krass, das ist unglaublich!", exampleEn: "Wow, that's unbelievable!" },
            { german: "Wahnsinn!", english: "Crazy! / Insane!", exampleDe: "Wahnsinn, wie schnell das ging!", exampleEn: "Crazy how fast that was!" },
            { german: "Hammer!", english: "Awesome!", exampleDe: "Das ist der Hammer!", exampleEn: "That's awesome!" },
            { german: "Echt?", english: "Really?", exampleDe: "Echt? Das glaub ich nicht.", exampleEn: "Really? I don't believe it." },
            { german: "Im Ernst?", english: "Seriously?", exampleDe: "Im Ernst? Das ist ja verr√ºckt.", exampleEn: "Seriously? That's crazy." },
            { german: "Ehrlich gesagt", english: "To be honest", exampleDe: "Ehrlich gesagt, mag ich das nicht.", exampleEn: "To be honest, I don't like it." },
            { german: "So ein Mist", english: "Damn it", exampleDe: "So ein Mist, ich hab's vergessen!", exampleEn: "Damn it, I forgot!" },
            { german: "Verdammt", english: "Damn", exampleDe: "Verdammt, das ist schlecht.", exampleEn: "Damn, that's bad." },
            { german: "Mist!", english: "Crap! / Damn!", exampleDe: "Mist! Ich hab den Bus verpasst.", exampleEn: "Crap! I missed the bus." },
            { german: "Mensch!", english: "Man! / Geez!", exampleDe: "Mensch, das ist ja toll!", exampleEn: "Man, that's great!" },
            { german: "Boah", english: "Wow (informal)", exampleDe: "Boah, ist das hei√ü heute.", exampleEn: "Wow, it's hot today." },
            { german: "Na toll", english: "Great (sarcastic)", exampleDe: "Na toll, jetzt regnet es.", exampleEn: "Great, now it's raining." },
            { german: "Alles klar", english: "All clear / Got it", exampleDe: "Alles klar, ich verstehe.", exampleEn: "Got it, I understand." },
            { german: "In Ordnung", english: "All right / OK", exampleDe: "In Ordnung, machen wir so.", exampleEn: "All right, let's do that." },
            { german: "Geht klar", english: "OK / Will do", exampleDe: "Geht klar, ich mach das.", exampleEn: "OK, I'll do it." },
            { german: "Auf geht's", english: "Let's go", exampleDe: "Auf geht's, wir m√ºssen los!", exampleEn: "Let's go, we need to leave!" },
            { german: "Los geht's", english: "Here we go", exampleDe: "Los geht's!", exampleEn: "Here we go!" },
            { german: "Bis gleich", english: "See you soon", exampleDe: "Bis gleich!", exampleEn: "See you soon!" },
            { german: "Bis dann", english: "See you later", exampleDe: "Bis dann, mach's gut!", exampleEn: "See you later, take care!" },
            { german: "Tsch√ºss", english: "Bye", exampleDe: "Tsch√ºss, bis morgen!", exampleEn: "Bye, see you tomorrow!" },
            { german: "Mach's gut", english: "Take care", exampleDe: "Mach's gut, wir sehen uns!", exampleEn: "Take care, see you!" },
            { german: "weil", english: "because", exampleDe: "Ich bleibe, weil ich m√ºde bin.", exampleEn: "I'm staying because I'm tired." },
            { german: "obwohl", english: "although", exampleDe: "Ich gehe, obwohl ich m√ºde bin.", exampleEn: "I'm going although I'm tired." },
            { german: "damit", english: "so that", exampleDe: "Ich lerne, damit ich es verstehe.", exampleEn: "I'm learning so that I understand it." },
            { german: "falls", english: "in case / if", exampleDe: "Falls du kommst, ruf an.", exampleEn: "If you're coming, call me." },
            { german: "sobald", english: "as soon as", exampleDe: "Sobald ich fertig bin, rufe ich an.", exampleEn: "As soon as I'm done, I'll call." },
            { german: "bevor", english: "before", exampleDe: "Bevor du gehst, sag Bescheid.", exampleEn: "Before you go, let me know." },
            { german: "nachdem", english: "after", exampleDe: "Nachdem ich gegessen habe, gehe ich.", exampleEn: "After I've eaten, I'll go." },
            { german: "seit", english: "since", exampleDe: "Seit ich hier wohne, bin ich gl√ºcklich.", exampleEn: "Since I've been living here, I'm happy." },
            { german: "bis", english: "until", exampleDe: "Warte, bis ich komme.", exampleEn: "Wait until I come." },
            { german: "au√üerdem", english: "besides / also", exampleDe: "Au√üerdem ist es zu teuer.", exampleEn: "Besides, it's too expensive." },
            { german: "deswegen", english: "that's why", exampleDe: "Deswegen bin ich hier.", exampleEn: "That's why I'm here." },
            { german: "stattdessen", english: "instead", exampleDe: "Geh nicht, bleib stattdessen.", exampleEn: "Don't go, stay instead." },
            { german: "entweder... oder", english: "either... or", exampleDe: "Entweder kommst du oder du gehst.", exampleEn: "Either you come or you go." },
            { german: "weder... noch", english: "neither... nor", exampleDe: "Weder er noch sie war da.", exampleEn: "Neither he nor she was there." },
            { german: "je... desto", english: "the more... the more", exampleDe: "Je mehr, desto besser.", exampleEn: "The more, the better." },
            { german: "Wie bitte?", english: "Pardon?", exampleDe: "Wie bitte? Ich hab dich nicht verstanden.", exampleEn: "Pardon? I didn't understand you." },
            { german: "Wieso?", english: "Why? / How come?", exampleDe: "Wieso fragst du?", exampleEn: "Why do you ask?" },
            { german: "Woher?", english: "Where from?", exampleDe: "Woher wei√üt du das?", exampleEn: "How do you know that?" },
            { german: "Wohin?", english: "Where to?", exampleDe: "Wohin gehst du?", exampleEn: "Where are you going?" },
            { german: "Wof√ºr?", english: "What for?", exampleDe: "Wof√ºr brauchst du das?", exampleEn: "What do you need that for?" },
            { german: "Wor√ºber?", english: "About what?", exampleDe: "Wor√ºber redet ihr?", exampleEn: "What are you talking about?" },
            { german: "Was f√ºr ein/e?", english: "What kind of?", exampleDe: "Was f√ºr ein Auto f√§hrst du?", exampleEn: "What kind of car do you drive?" },
            { german: "Wie viel?", english: "How much?", exampleDe: "Wie viel kostet das?", exampleEn: "How much does it cost?" },
            { german: "Wie lange?", english: "How long?", exampleDe: "Wie lange dauert das?", exampleEn: "How long does that take?" },
            { german: "Wie oft?", english: "How often?", exampleDe: "Wie oft gehst du ins Kino?", exampleEn: "How often do you go to the cinema?" },
            { german: "gerade", english: "just now / right now", exampleDe: "Ich mache gerade Pause.", exampleEn: "I'm taking a break right now." },
            { german: "gleich", english: "in a moment", exampleDe: "Ich komme gleich.", exampleEn: "I'll be there in a moment." },
            { german: "sofort", english: "immediately", exampleDe: "Ich komme sofort!", exampleEn: "I'm coming immediately!" },
            { german: "nachher", english: "later / afterwards", exampleDe: "Bis nachher!", exampleEn: "See you later!" },
            { german: "vorher", english: "before / beforehand", exampleDe: "Ruf mich vorher an.", exampleEn: "Call me beforehand." },
            { german: "neulich", english: "recently", exampleDe: "Neulich hab ich ihn gesehen.", exampleEn: "I saw him the other day." },
            { german: "damals", english: "back then", exampleDe: "Damals war alles anders.", exampleEn: "Back then everything was different." },
            { german: "inzwischen", english: "meanwhile / by now", exampleDe: "Inzwischen ist alles anders.", exampleEn: "By now everything is different." },
            { german: "meistens", english: "usually", exampleDe: "Meistens bleibe ich zu Hause.", exampleEn: "I usually stay home." },
            { german: "manchmal", english: "sometimes", exampleDe: "Manchmal gehe ich joggen.", exampleEn: "Sometimes I go jogging." },
            { german: "selten", english: "rarely", exampleDe: "Ich sehe ihn selten.", exampleEn: "I rarely see him." },
            { german: "nie", english: "never", exampleDe: "Das mache ich nie.", exampleEn: "I never do that." },
            { german: "immer", english: "always", exampleDe: "Er kommt immer zu sp√§t.", exampleEn: "He always comes late." },
            { german: "oft", english: "often", exampleDe: "Wir sehen uns oft.", exampleEn: "We see each other often." },
            { german: "ab und zu", english: "now and then", exampleDe: "Ab und zu gehe ich schwimmen.", exampleEn: "I go swimming now and then." },
            { german: "noch nie", english: "never (before)", exampleDe: "Das hab ich noch nie gemacht.", exampleEn: "I've never done that before." },
            { german: "schon mal", english: "ever / before", exampleDe: "Warst du schon mal in Berlin?", exampleEn: "Have you ever been to Berlin?" },
            { german: "nochmal", english: "again", exampleDe: "Kannst du das nochmal sagen?", exampleEn: "Can you say that again?" },
            { german: "pl√∂tzlich", english: "suddenly", exampleDe: "Pl√∂tzlich fing es an zu regnen.", exampleEn: "Suddenly it started raining." },
            { german: "endlich", english: "finally", exampleDe: "Endlich bist du da!", exampleEn: "Finally you're here!" },
            { german: "danach", english: "after that", exampleDe: "Danach gehen wir essen.", exampleEn: "After that we'll go eat." },
            { german: "heute Abend", english: "this evening", exampleDe: "Was machst du heute Abend?", exampleEn: "What are you doing this evening?" },
            { german: "morgen fr√ºh", english: "tomorrow morning", exampleDe: "Morgen fr√ºh habe ich Zeit.", exampleEn: "I have time tomorrow morning." },
            { german: "√ºbermorgen", english: "day after tomorrow", exampleDe: "√úbermorgen fahren wir weg.", exampleEn: "We're leaving the day after tomorrow." },
            { german: "n√§chste Woche", english: "next week", exampleDe: "N√§chste Woche bin ich im Urlaub.", exampleEn: "Next week I'm on vacation." },
            { german: "klingen", english: "to sound", exampleDe: "Das klingt gut.", exampleEn: "That sounds good." },
            { german: "scheinen", english: "to seem", exampleDe: "Er scheint nett zu sein.", exampleEn: "He seems to be nice." },
            { german: "riechen", english: "to smell", exampleDe: "Das riecht gut.", exampleEn: "That smells good." },
            { german: "schmecken", english: "to taste", exampleDe: "Wie schmeckt es?", exampleEn: "How does it taste?" },
            { german: "leihen", english: "to lend / borrow", exampleDe: "Kannst du mir Geld leihen?", exampleEn: "Can you lend me money?" },
            { german: "teilen", english: "to share", exampleDe: "Wollen wir teilen?", exampleEn: "Shall we share?" },
            { german: "versprechen", english: "to promise", exampleDe: "Ich verspreche es dir.", exampleEn: "I promise you." },
            { german: "vergessen", english: "to forget", exampleDe: "Ich hab's vergessen.", exampleEn: "I forgot." },
            { german: "bedeuten", english: "to mean", exampleDe: "Was bedeutet das?", exampleEn: "What does that mean?" },
            { german: "erkl√§ren", english: "to explain", exampleDe: "Kannst du das erkl√§ren?", exampleEn: "Can you explain that?" },
            { german: "√§ndern", english: "to change", exampleDe: "Das kann man nicht √§ndern.", exampleEn: "You can't change that." },
            { german: "verbessern", english: "to improve", exampleDe: "Ich will mein Deutsch verbessern.", exampleEn: "I want to improve my German." },
            { german: "empfehlen", english: "to recommend", exampleDe: "Was empfiehlst du?", exampleEn: "What do you recommend?" },
            { german: "vorschlagen", english: "to suggest", exampleDe: "Ich schlage vor, dass wir gehen.", exampleEn: "I suggest we go." },
            { german: "sich beschweren", english: "to complain", exampleDe: "Er beschwert sich immer.", exampleEn: "He always complains." },
            { german: "sich entschuldigen", english: "to apologize", exampleDe: "Ich entschuldige mich.", exampleEn: "I apologize." },
            { german: "sich streiten", english: "to argue", exampleDe: "Wir haben uns gestritten.", exampleEn: "We had an argument." },
            { german: "sich vertragen", english: "to get along / make up", exampleDe: "Wir vertragen uns wieder.", exampleEn: "We've made up." },
            { german: "sich verlieben", english: "to fall in love", exampleDe: "Ich hab mich verliebt.", exampleEn: "I fell in love." },
            { german: "sich trennen", english: "to break up", exampleDe: "Sie haben sich getrennt.", exampleEn: "They broke up." },
            { german: "zusammen sein", english: "to be together", exampleDe: "Wie lange seid ihr zusammen?", exampleEn: "How long have you been together?" },
            { german: "heiraten", english: "to marry", exampleDe: "Sie heiraten n√§chsten Monat.", exampleEn: "They're getting married next month." }
        ];

        // Active deck
        let currentDeck = 'conversational';
        let allFlashcardsActive = conversationalVocab;

        function switchDeck(deckName) {
            currentDeck = deckName;
            if (deckName === 'conversational') {
                allFlashcardsActive = conversationalVocab;
            } else if (deckName === 'literary') {
                allFlashcardsActive = allFlashcards;
            } else {
                allFlashcardsActive = [...conversationalVocab, ...allFlashcards];
            }
            cardBoxes = {}; // Reset spaced repetition for new deck
            fullRestart();
        }

        // State
        let cards = [];
        let currentIndex = 0;
        let correct = 0;
        let attempted = 0;
        let missedCards = [];
        let roundNumber = 1;
        let answeredThisRound = 0;
        let totalCardsThisRound = 0;
        let masteredIndices = new Set();
        let reverseMode = false;

        // Spaced repetition: track difficulty for each card (1-5 boxes)
        // Box 1 = new/difficult, Box 5 = well known
        let cardBoxes = {};

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Spaced repetition: weight cards by box (lower box = more likely to appear)
        function getWeightedCards(cardSet) {
            let weighted = [];
            cardSet.forEach(card => {
                const box = cardBoxes[card.originalIndex] || 1;
                // Box 1: 5 copies, Box 2: 4 copies, etc.
                const copies = Math.max(1, 6 - box);
                for (let i = 0; i < copies; i++) {
                    weighted.push({...card});
                }
            });
            return shuffleArray(weighted);
        }

        function setMode(mode) {
            reverseMode = (mode === 'reverse');
            document.getElementById('mode-normal').classList.toggle('active', !reverseMode);
            document.getElementById('mode-reverse').classList.toggle('active', reverseMode);
            document.getElementById('card-front').classList.toggle('reverse-mode', reverseMode);
            document.getElementById('card-back').classList.toggle('reverse-mode', reverseMode);
            showCard();
        }

        function startRound(cardSet, isNewFullRound = false) {
            if (isNewFullRound) {
                roundNumber = 1;
                correct = 0;
                attempted = 0;
                masteredIndices = new Set();
            }
            // Use spaced repetition weighting
            cards = getWeightedCards(cardSet);
            // Remove duplicates for this round (keep first occurrence)
            const seen = new Set();
            cards = cards.filter(c => {
                if (seen.has(c.originalIndex)) return false;
                seen.add(c.originalIndex);
                return true;
            });
            missedCards = [];
            currentIndex = 0;
            answeredThisRound = 0;
            totalCardsThisRound = cards.length;
            updateDisplay();
            showCard();
        }

        function shuffleCards() {
            const cardsWithIndex = allFlashcardsActive.map((c, i) => ({...c, originalIndex: i}));
            startRound(cardsWithIndex, true);
        }

        function fullRestart() {
            cardBoxes = {}; // Reset spaced repetition
            const cardsWithIndex = allFlashcardsActive.map((c, i) => ({...c, originalIndex: i}));
            startRound(cardsWithIndex, true);
        }

        function showCard() {
            const card = document.getElementById('card');
            card.classList.remove('flipped');

            const currentCard = cards[currentIndex];
            const box = cardBoxes[currentCard.originalIndex] || 1;
            const boxLabels = ['New', 'Learning', 'Familiar', 'Good', 'Mastered'];
            document.getElementById('difficulty').textContent = boxLabels[box - 1];

            if (reverseMode) {
                // English on front, German on back
                document.getElementById('front-label').textContent = 'English';
                document.getElementById('front-word').textContent = currentCard.english;
                document.getElementById('front-example').textContent = currentCard.exampleEn || '';
                document.getElementById('back-label').textContent = 'German';
                document.getElementById('back-word').textContent = currentCard.german;
                document.getElementById('back-example').textContent = currentCard.exampleDe || '';
            } else {
                // German on front, English on back
                document.getElementById('front-label').textContent = 'German';
                document.getElementById('front-word').textContent = currentCard.german;
                document.getElementById('front-example').textContent = currentCard.exampleDe || '';
                document.getElementById('back-label').textContent = 'English';
                document.getElementById('back-word').textContent = currentCard.english;
                document.getElementById('back-example').textContent = currentCard.exampleEn || '';
            }

            document.getElementById('current').textContent = currentIndex + 1;
            document.getElementById('total').textContent = cards.length;
        }

        function speakWord() {
            const currentCard = cards[currentIndex];
            // Read the example sentence instead of just the word
            const textToSpeak = reverseMode ? (currentCard.exampleEn || currentCard.english) : (currentCard.exampleDe || currentCard.german);
            const lang = reverseMode ? 'en-GB' : 'de-DE';

            if ('speechSynthesis' in window) {
                // Cancel any ongoing speech
                speechSynthesis.cancel();

                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                utterance.lang = lang;
                utterance.rate = 0.9;
                utterance.pitch = 0.95;

                // Find the best male voice for the language
                const voices = speechSynthesis.getVoices();
                const langCode = reverseMode ? 'en' : 'de';

                // Prefer male voices, then any voice for the language
                const maleVoice = voices.find(v =>
                    v.lang.startsWith(langCode) &&
                    (v.name.toLowerCase().includes('male') ||
                     v.name.toLowerCase().includes('daniel') ||
                     v.name.toLowerCase().includes('markus') ||
                     v.name.toLowerCase().includes('hans') ||
                     v.name.toLowerCase().includes('stefan') ||
                     v.name.toLowerCase().includes('yannick') ||
                     v.name.toLowerCase().includes('martin'))
                );

                const anyVoice = voices.find(v => v.lang.startsWith(langCode));

                if (maleVoice) {
                    utterance.voice = maleVoice;
                } else if (anyVoice) {
                    utterance.voice = anyVoice;
                }

                speechSynthesis.speak(utterance);
            } else {
                alert('Sorry, your browser does not support speech synthesis.');
            }
        }

        // Pre-load voices (needed for some browsers)
        if ('speechSynthesis' in window) {
            speechSynthesis.getVoices();
            speechSynthesis.onvoiceschanged = () => speechSynthesis.getVoices();
        }

        function updateDisplay() {
            document.getElementById('correct').textContent = correct;
            document.getElementById('attempted').textContent = attempted;

            const pctEl = document.getElementById('percentage');
            if (attempted > 0) {
                const pct = Math.round((correct / attempted) * 100);
                pctEl.textContent = `Success rate: ${pct}%`;
                pctEl.style.color = pct >= 80 ? '#38ef7d' : pct >= 50 ? '#ffd700' : '#ff6b6b';
            } else {
                pctEl.textContent = '';
            }

            const roundEl = document.getElementById('round-info');
            if (roundNumber === 1) {
                roundEl.textContent = `Round ${roundNumber} ‚Ä¢ All ${allFlashcardsActive.length} cards`;
            } else {
                roundEl.textContent = `Round ${roundNumber} ‚Ä¢ Reviewing ${totalCardsThisRound} missed cards`;
            }
        }

        function flipCard() {
            const card = document.getElementById('card');
            card.classList.toggle('flipped');
        }

        function nextCard() {
            currentIndex = (currentIndex + 1) % cards.length;
            showCard();
        }

        function prevCard() {
            currentIndex = (currentIndex - 1 + cards.length) % cards.length;
            showCard();
        }

        function markAndNext(knew) {
            attempted++;
            answeredThisRound++;

            const currentCard = cards[currentIndex];
            const idx = currentCard.originalIndex;

            if (knew) {
                correct++;
                masteredIndices.add(idx);
                // Move up a box (max 5)
                cardBoxes[idx] = Math.min(5, (cardBoxes[idx] || 1) + 1);
            } else {
                missedCards.push(currentCard);
                // Move back to box 1
                cardBoxes[idx] = 1;
            }

            updateDisplay();

            if (answeredThisRound >= cards.length) {
                finishRound();
            } else {
                currentIndex = (currentIndex + 1) % cards.length;
                showCard();
            }
        }

        function finishRound() {
            if (missedCards.length === 0) {
                alert(`Congratulations! You've mastered all the cards!\n\nFinal score: ${correct}/${attempted} (${Math.round((correct/attempted)*100)}%)\n\nTap "Start Over" to practice again.`);
            } else {
                roundNumber++;
                alert(`Round complete!\n\nYou missed ${missedCards.length} card${missedCards.length > 1 ? 's' : ''}.\n\nStarting Round ${roundNumber} to review them.`);
                startRound(missedCards, false);
            }
        }

        function getSyncCode() {
            const state = {
                m: Array.from(masteredIndices),
                c: correct,
                a: attempted,
                b: cardBoxes // Include spaced repetition data
            };
            const json = JSON.stringify(state);
            const code = btoa(json);

            if (navigator.clipboard) {
                navigator.clipboard.writeText(code).then(() => {
                    alert(`Sync code copied!\n\nMastered: ${masteredIndices.size}/${allFlashcardsActive.length} cards`);
                }).catch(() => {
                    prompt(`Copy this sync code:`, code);
                });
            } else {
                prompt(`Copy this sync code:`, code);
            }
        }

        function loadSyncCode() {
            const code = prompt('Enter your sync code:');
            if (!code) return;

            try {
                const json = atob(code.trim());
                const state = JSON.parse(json);

                masteredIndices = new Set(state.m || []);
                correct = state.c || 0;
                attempted = state.a || 0;
                cardBoxes = state.b || {};

                const unmasteredCards = allFlashcards
                    .map((c, i) => ({...c, originalIndex: i}))
                    .filter(c => !masteredIndices.has(c.originalIndex));

                if (unmasteredCards.length === 0) {
                    alert(`All ${allFlashcardsActive.length} cards already mastered!\n\nTap "Start Over" to reset.`);
                    updateDisplay();
                    return;
                }

                roundNumber = 1;
                startRound(unmasteredCards, false);

                alert(`Progress loaded!\n\nMastered: ${masteredIndices.size}/${allFlashcardsActive.length}\nRemaining: ${unmasteredCards.length} cards`);
            } catch (e) {
                alert('Invalid sync code. Please check and try again.');
            }
        }

        // Keyboard controls
        document.addEventListener('keydown', (e) => {
            if (e.code === 'Space') {
                e.preventDefault();
                flipCard();
            } else if (e.code === 'ArrowRight') {
                nextCard();
            } else if (e.code === 'ArrowLeft') {
                prevCard();
            } else if (e.code === 'KeyK') {
                markAndNext(true);
            } else if (e.code === 'KeyD') {
                markAndNext(false);
            } else if (e.code === 'KeyS') {
                speakWord();
            }
        });

        // Initialize
        shuffleCards();
    </script>
</body>
</html>
